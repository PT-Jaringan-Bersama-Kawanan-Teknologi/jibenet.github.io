System.register(["./index-legacy-BJEQX3jj.js"],function(e,t){"use strict";var o,n,i,r,s,a,d,l,c,u,v;return{setters:[e=>{o=e.d,n=e.K,i=e.e,r=e.g,s=e.b,a=e.f,d=e.h,l=e.j,c=e.k,u=e.l,v=e.m}],execute:function(){
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const t=new WeakMap,m=(e,o,n,i=0,r=!1)=>{t.has(e)!==n&&(n?f(e,o,i,r):y(e,o))},f=(e,o,n,i=!1)=>{const r=o.parentNode,s=o.cloneNode(!1);s.classList.add("cloned-input"),s.tabIndex=-1,i&&(s.disabled=!0),r.appendChild(s),t.set(e,s);const a="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",o.style.transform=`translate3d(${a}px,${n}px,0) scale(0)`},y=(e,o)=>{const n=t.get(e);n&&(t.delete(e),n.remove()),e.style.pointerEvents="",o.style.transform=""},p="input, textarea, [no-blur], [contenteditable]",w=(e,t,o,n)=>{const i=e.top,r=e.bottom,s=t.top,a=s+15,d=Math.min(t.bottom,n-o)-50-r,l=a-i,c=Math.round(d<0?-d:l>0?-l:0),u=Math.min(c,i-s),v=Math.abs(u)/.3;return{scrollAmount:u,scrollDuration:Math.min(400,Math.max(150,v)),scrollPadding:o,inputSafeY:4-(i-a)}},h="$ionPaddingTimer",b=(e,t,o)=>{const n=e[h];n&&clearTimeout(n),t>0?e.style.setProperty("--keyboard-offset",`${t}px`):e[h]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),o&&o()},120)},g=(e,t,o)=>{e.addEventListener("focusout",()=>{t&&b(t,0,o)},{once:!0})};let E=0;const S="data-ionic-skip-scroll-assist",L=e=>{var t;if(document.activeElement===e)return;const o=e.getAttribute("id"),n=e.closest(`label[for="${o}"]`),i=null===(t=document.activeElement)||void 0===t?void 0:t.closest(`label[for="${o}"]`);null!==n&&n===i||(e.setAttribute(S,"true"),e.focus())},D=async(e,t,o,n,i,r,s=!1,a=0,d=!0)=>{if(!o&&!n)return;const l=((e,t,o,n)=>{var i;const r=null!==(i=e.closest("ion-item,[ion-item]"))&&void 0!==i?i:e;return w(r.getBoundingClientRect(),t.getBoundingClientRect(),o,n)})(e,o||n,i,a);if(o&&Math.abs(l.scrollAmount)<4)return L(t),void(r&&null!==o&&(b(o,E),g(t,o,()=>E=0)));if(m(e,t,!0,l.inputSafeY,s),L(t),c(()=>e.click()),r&&o&&(E=l.scrollPadding,b(o,E)),"undefined"!=typeof window){let n;const i=async()=>{void 0!==n&&clearTimeout(n),window.removeEventListener("ionKeyboardDidShow",s),window.removeEventListener("ionKeyboardDidShow",i),o&&await v(o,0,l.scrollAmount,l.scrollDuration),m(e,t,!1,l.inputSafeY),L(t),r&&g(t,o,()=>E=0)},s=()=>{window.removeEventListener("ionKeyboardDidShow",s),window.addEventListener("ionKeyboardDidShow",i)};if(o){const e=await u(o),r=e.scrollHeight-e.clientHeight;if(d&&l.scrollAmount>r-e.scrollTop)return"password"===t.type?(l.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",s)):window.addEventListener("ionKeyboardDidShow",i),void(n=setTimeout(i,1e3))}i()}};e("startInputShims",async(e,t)=>{if(void 0===o)return;const c="ios"===t,u="android"===t,v=e.getNumber("keyboardHeight",290),f=e.getBoolean("scrollAssist",!0),y=e.getBoolean("hideCaretOnScroll",c),w=e.getBoolean("inputBlurring",!1),h=e.getBoolean("scrollPadding",!0),b=Array.from(o.querySelectorAll("ion-input, ion-textarea")),g=new WeakMap,E=new WeakMap,L=await n.getResizeMode(),A=async e=>{await new Promise(t=>s(e,t));const t=e.shadowRoot||e,o=t.querySelector("input")||t.querySelector("textarea"),n=a(e),c=n?null:e.closest("ion-footer");if(o){if(n&&y&&!g.has(e)){const t=((e,t,o)=>{if(!o||!t)return()=>{};const n=o=>{var n;(n=t)===n.getRootNode().activeElement&&m(e,t,o)},s=()=>m(e,t,!1),a=()=>n(!0),d=()=>n(!1);return i(o,"ionScrollStart",a),i(o,"ionScrollEnd",d),t.addEventListener("blur",s),()=>{r(o,"ionScrollStart",a),r(o,"ionScrollEnd",d),t.removeEventListener("blur",s)}})(e,o,n);g.set(e,t)}if("date"!==o.type&&"datetime-local"!==o.type&&(n||c)&&f&&!E.has(e)){const t=((e,t,o,n,i,r,s,a=!1)=>{const c=r&&(void 0===s||s.mode===d.None);let u=!1;const v=void 0!==l?l.innerHeight:0,m=i=>{!1!==u?D(e,t,o,n,i.detail.keyboardHeight,c,a,v,!1):u=!0},f=()=>{u=!1,null==l||l.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f)},y=async()=>{t.hasAttribute(S)?t.removeAttribute(S):(D(e,t,o,n,i,c,a,v),null==l||l.addEventListener("ionKeyboardDidShow",m),e.addEventListener("focusout",f))};return e.addEventListener("focusin",y),()=>{e.removeEventListener("focusin",y),null==l||l.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f)}})(e,o,n,c,v,h,L,u);E.set(e,t)}}};w&&(()=>{let e=!0,t=!1;const o=document,n=()=>{t=!0},r=()=>{e=!0},s=n=>{if(t)return void(t=!1);const i=o.activeElement;if(!i)return;if(i.matches(p))return;const r=n.target;r!==i&&(r.matches(p)||r.closest(p)||(e=!1,setTimeout(()=>{e||i.blur()},50)))};i(o,"ionScrollStart",n),o.addEventListener("focusin",r,!0),o.addEventListener("touchend",s,!1)})();for(const o of b)A(o);o.addEventListener("ionInputDidLoad",e=>{A(e.detail)}),o.addEventListener("ionInputDidUnload",e=>{(e=>{if(y){const t=g.get(e);t&&t(),g.delete(e)}if(f){const t=E.get(e);t&&t(),E.delete(e)}})(e.detail)})})}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtc2hpbXMtbGVnYWN5LURjam9waTJ6LmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvY29tcG9uZW50cy9pbnB1dC1zaGltcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgdyBhcyB3aW4sIGQgYXMgZG9jIH0gZnJvbSAnLi9pbmRleDkuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRTY3JvbGxFbGVtZW50LCBjIGFzIHNjcm9sbEJ5UG9pbnQsIGEgYXMgZmluZENsb3Nlc3RJb25Db250ZW50IH0gZnJvbSAnLi9pbmRleDguanMnO1xuaW1wb3J0IHsgYSBhcyBhZGRFdmVudExpc3RlbmVyLCBiIGFzIHJlbW92ZUV2ZW50TGlzdGVuZXIsIHIgYXMgcmFmLCBjIGFzIGNvbXBvbmVudE9uUmVhZHkgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuaW1wb3J0IHsgYSBhcyBLZXlib2FyZFJlc2l6ZSwgSyBhcyBLZXlib2FyZCB9IGZyb20gJy4va2V5Ym9hcmQyLmpzJztcblxuY29uc3QgY2xvbmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVsb2NhdGVJbnB1dCA9IChjb21wb25lbnRFbCwgaW5wdXRFbCwgc2hvdWxkUmVsb2NhdGUsIGlucHV0UmVsYXRpdmVZID0gMCwgZGlzYWJsZWRDbG9uZWRJbnB1dCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGNsb25lTWFwLmhhcyhjb21wb25lbnRFbCkgPT09IHNob3VsZFJlbG9jYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNob3VsZFJlbG9jYXRlKSB7XG4gICAgICAgIGFkZENsb25lKGNvbXBvbmVudEVsLCBpbnB1dEVsLCBpbnB1dFJlbGF0aXZlWSwgZGlzYWJsZWRDbG9uZWRJbnB1dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVDbG9uZShjb21wb25lbnRFbCwgaW5wdXRFbCk7XG4gICAgfVxufTtcbmNvbnN0IGlzRm9jdXNlZCA9IChpbnB1dCkgPT4ge1xuICAgIC8qKlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2dldFJvb3ROb2RlXG4gICAgICogQ2FsbGluZyBnZXRSb290Tm9kZSBvbiBhbiBlbGVtZW50IGluIHN0YW5kYXJkIHdlYiBwYWdlIHdpbGwgcmV0dXJuIEhUTUxEb2N1bWVudC5cbiAgICAgKiBDYWxsaW5nIGdldFJvb3ROb2RlIG9uIGFuIGVsZW1lbnQgaW5zaWRlIG9mIHRoZSBTaGFkb3cgRE9NIHdpbGwgcmV0dXJuIHRoZSBhc3NvY2lhdGVkIFNoYWRvd1Jvb3QuXG4gICAgICogQ2FsbGluZyBnZXRSb290Tm9kZSBvbiBhbiBlbGVtZW50IHRoYXQgaXMgbm90IGF0dGFjaGVkIHRvIGEgZG9jdW1lbnQvc2hhZG93IHRyZWUgd2lsbCByZXR1cm5cbiAgICAgKiB0aGUgcm9vdCBvZiB0aGUgRE9NIHRyZWUgaXQgYmVsb25ncyB0by5cbiAgICAgKiBpc0ZvY3VzZWQgaXMgdXNlZCBmb3IgdGhlIGhpZGUtY2FyZXQgdXRpbGl0eSB3aGljaCBvbmx5IGNvbnNpZGVycyBpbnB1dC90ZXh0YXJlYSBlbGVtZW50c1xuICAgICAqIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIERPTSwgc28gd2UgZG9uJ3Qgc2V0IHR5cGVzIGZvciB0aGF0IGZpbmFsIGNhc2Ugc2luY2UgaXQgZG9lcyBub3QgYXBwbHkuXG4gICAgICovXG4gICAgcmV0dXJuIGlucHV0ID09PSBpbnB1dC5nZXRSb290Tm9kZSgpLmFjdGl2ZUVsZW1lbnQ7XG59O1xuY29uc3QgYWRkQ2xvbmUgPSAoY29tcG9uZW50RWwsIGlucHV0RWwsIGlucHV0UmVsYXRpdmVZLCBkaXNhYmxlZENsb25lZElucHV0ID0gZmFsc2UpID0+IHtcbiAgICAvLyB0aGlzIGFsbG93cyBmb3IgdGhlIGFjdHVhbCBpbnB1dCB0byByZWNlaXZlIHRoZSBmb2N1cyBmcm9tXG4gICAgLy8gdGhlIHVzZXIncyB0b3VjaCBldmVudCwgYnV0IGJlZm9yZSBpdCByZWNlaXZlcyBmb2N1cywgaXRcbiAgICAvLyBtb3ZlcyB0aGUgYWN0dWFsIGlucHV0IHRvIGEgbG9jYXRpb24gdGhhdCB3aWxsIG5vdCBzY3Jld1xuICAgIC8vIHVwIHRoZSBhcHAncyBsYXlvdXQsIGFuZCBkb2VzIG5vdCBhbGxvdyB0aGUgbmF0aXZlIGJyb3dzZXJcbiAgICAvLyB0byBhdHRlbXB0IHRvIHNjcm9sbCB0aGUgaW5wdXQgaW50byBwbGFjZSAobWVzc2luZyB1cCBoZWFkZXJzL2Zvb3RlcnMpXG4gICAgLy8gdGhlIGNsb25lZCBpbnB1dCBmaWxscyB0aGUgYXJlYSBvZiB3aGVyZSBuYXRpdmUgaW5wdXQgc2hvdWxkIGJlXG4gICAgLy8gd2hpbGUgdGhlIG5hdGl2ZSBpbnB1dCBmYWtlcyBvdXQgdGhlIGJyb3dzZXIgYnkgcmVsb2NhdGluZyBpdHNlbGZcbiAgICAvLyBiZWZvcmUgaXQgcmVjZWl2ZXMgdGhlIGFjdHVhbCBmb2N1cyBldmVudFxuICAgIC8vIFdlIGhpZGUgdGhlIGZvY3VzZWQgaW5wdXQgKHdpdGggdGhlIHZpc2libGUgY2FyZXQpIGludmlzaWJsZSBieSBtYWtpbmcgaXQgc2NhbGUoMCksXG4gICAgY29uc3QgcGFyZW50RWwgPSBpbnB1dEVsLnBhcmVudE5vZGU7XG4gICAgLy8gRE9NIFdSSVRFU1xuICAgIGNvbnN0IGNsb25lZEVsID0gaW5wdXRFbC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgIGNsb25lZEVsLmNsYXNzTGlzdC5hZGQoJ2Nsb25lZC1pbnB1dCcpO1xuICAgIGNsb25lZEVsLnRhYkluZGV4ID0gLTE7XG4gICAgLyoqXG4gICAgICogTWFraW5nIHRoZSBjbG9uZWQgaW5wdXQgZGlzYWJsZWQgcHJldmVudHNcbiAgICAgKiBDaHJvbWUgZm9yIEFuZHJvaWQgZnJvbSBzdGlsbCBzY3JvbGxpbmdcbiAgICAgKiB0aGUgZW50aXJlIHBhZ2Ugc2luY2UgdGhpcyBjbG9uZWQgaW5wdXRcbiAgICAgKiB3aWxsIGJyaWVmbHkgYmUgaGlkZGVuIGJ5IHRoZSBrZXlib2FyZFxuICAgICAqIGV2ZW4gdGhvdWdoIGl0IGlzIG5vdCBmb2N1c2VkLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBub3QgbmVlZGVkIG9uIGlPUy4gV2hpbGUgdGhpc1xuICAgICAqIGRvZXMgbm90IGNhdXNlIGZ1bmN0aW9uYWwgaXNzdWVzIG9uIGlPUyxcbiAgICAgKiB0aGUgaW5wdXQgc3RpbGwgYXBwZWFycyBzbGlnaHRseSBkaW1tZWQgZXZlblxuICAgICAqIGlmIHdlIHNldCBvcGFjaXR5OiAxLlxuICAgICAqL1xuICAgIGlmIChkaXNhYmxlZENsb25lZElucHV0KSB7XG4gICAgICAgIGNsb25lZEVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQoY2xvbmVkRWwpO1xuICAgIGNsb25lTWFwLnNldChjb21wb25lbnRFbCwgY2xvbmVkRWwpO1xuICAgIGNvbnN0IGRvYyA9IGNvbXBvbmVudEVsLm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgdHggPSBkb2MuZGlyID09PSAncnRsJyA/IDk5OTkgOiAtOTk5OTtcbiAgICBjb21wb25lbnRFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIGlucHV0RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHh9cHgsJHtpbnB1dFJlbGF0aXZlWX1weCwwKSBzY2FsZSgwKWA7XG59O1xuY29uc3QgcmVtb3ZlQ2xvbmUgPSAoY29tcG9uZW50RWwsIGlucHV0RWwpID0+IHtcbiAgICBjb25zdCBjbG9uZSA9IGNsb25lTWFwLmdldChjb21wb25lbnRFbCk7XG4gICAgaWYgKGNsb25lKSB7XG4gICAgICAgIGNsb25lTWFwLmRlbGV0ZShjb21wb25lbnRFbCk7XG4gICAgICAgIGNsb25lLnJlbW92ZSgpO1xuICAgIH1cbiAgICBjb21wb25lbnRFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XG4gICAgaW5wdXRFbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbn07XG4vKipcbiAqIEZhY3RvcmluZyBpbiA1MHB4IGdpdmVzIHVzIHNvbWUgcm9vbVxuICogaW4gY2FzZSB0aGUga2V5Ym9hcmQgc2hvd3MgcGFzc3dvcmQvYXV0b2ZpbGwgYmFyc1xuICogYXN5bmNocm9ub3VzbHkuXG4gKi9cbmNvbnN0IFNDUk9MTF9BTU9VTlRfUEFERElORyA9IDUwO1xuXG5jb25zdCBlbmFibGVIaWRlQ2FyZXRPblNjcm9sbCA9IChjb21wb25lbnRFbCwgaW5wdXRFbCwgc2Nyb2xsRWwpID0+IHtcbiAgICBpZiAoIXNjcm9sbEVsIHx8ICFpbnB1dEVsKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbEhpZGVDYXJldCA9IChzaG91bGRIaWRlQ2FyZXQpID0+IHtcbiAgICAgICAgaWYgKGlzRm9jdXNlZChpbnB1dEVsKSkge1xuICAgICAgICAgICAgcmVsb2NhdGVJbnB1dChjb21wb25lbnRFbCwgaW5wdXRFbCwgc2hvdWxkSGlkZUNhcmV0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25CbHVyID0gKCkgPT4gcmVsb2NhdGVJbnB1dChjb21wb25lbnRFbCwgaW5wdXRFbCwgZmFsc2UpO1xuICAgIGNvbnN0IGhpZGVDYXJldCA9ICgpID0+IHNjcm9sbEhpZGVDYXJldCh0cnVlKTtcbiAgICBjb25zdCBzaG93Q2FyZXQgPSAoKSA9PiBzY3JvbGxIaWRlQ2FyZXQoZmFsc2UpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoc2Nyb2xsRWwsICdpb25TY3JvbGxTdGFydCcsIGhpZGVDYXJldCk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihzY3JvbGxFbCwgJ2lvblNjcm9sbEVuZCcsIHNob3dDYXJldCk7XG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgb25CbHVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKHNjcm9sbEVsLCAnaW9uU2Nyb2xsU3RhcnQnLCBoaWRlQ2FyZXQpO1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKHNjcm9sbEVsLCAnaW9uU2Nyb2xsRW5kJywgc2hvd0NhcmV0KTtcbiAgICAgICAgaW5wdXRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgb25CbHVyKTtcbiAgICB9O1xufTtcblxuY29uc3QgU0tJUF9TRUxFQ1RPUiA9ICdpbnB1dCwgdGV4dGFyZWEsIFtuby1ibHVyXSwgW2NvbnRlbnRlZGl0YWJsZV0nO1xuY29uc3QgZW5hYmxlSW5wdXRCbHVycmluZyA9ICgpID0+IHtcbiAgICBsZXQgZm9jdXNlZCA9IHRydWU7XG4gICAgbGV0IGRpZFNjcm9sbCA9IGZhbHNlO1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICAgIGNvbnN0IG9uU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICBkaWRTY3JvbGwgPSB0cnVlO1xuICAgIH07XG4gICAgY29uc3Qgb25Gb2N1c2luID0gKCkgPT4ge1xuICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IG9uVG91Y2hlbmQgPSAoZXYpID0+IHtcbiAgICAgICAgLy8gaWYgYXBwIGRpZCBzY3JvbGwgcmV0dXJuIGVhcmx5XG4gICAgICAgIGlmIChkaWRTY3JvbGwpIHtcbiAgICAgICAgICAgIGRpZFNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgICAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgYmx1ciBpZiB0aGUgYWN0aXZlIGVsZW1lbnQgaXMgYSB0ZXh0LWlucHV0IG9yIGEgdGV4dGFyZWFcbiAgICAgICAgaWYgKGFjdGl2ZS5tYXRjaGVzKFNLSVBfU0VMRUNUT1IpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHNlbGVjdGVkIHRhcmdldCBpcyB0aGUgYWN0aXZlIGVsZW1lbnQsIGRvIG5vdCBibHVyXG4gICAgICAgIGNvbnN0IHRhcHBlZCA9IGV2LnRhcmdldDtcbiAgICAgICAgaWYgKHRhcHBlZCA9PT0gYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcHBlZC5tYXRjaGVzKFNLSVBfU0VMRUNUT1IpIHx8IHRhcHBlZC5jbG9zZXN0KFNLSVBfU0VMRUNUT1IpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAvLyBUT0RPIEZXLTI3OTY6IGZpbmQgYSBiZXR0ZXIgd2F5LCB3aHkgNTBtcz9cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MCk7XG4gICAgfTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGRvYywgJ2lvblNjcm9sbFN0YXJ0Jywgb25TY3JvbGwpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgb25Gb2N1c2luLCB0cnVlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoZW5kLCBmYWxzZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2MsICdpb25TY3JvbGxTdGFydCcsIG9uU2Nyb2xsLCB0cnVlKTtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBvbkZvY3VzaW4sIHRydWUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoZW5kLCBmYWxzZSk7XG4gICAgfTtcbn07XG5cbmNvbnN0IFNDUk9MTF9BU1NJU1RfU1BFRUQgPSAwLjM7XG5jb25zdCBnZXRTY3JvbGxEYXRhID0gKGNvbXBvbmVudEVsLCBjb250ZW50RWwsIGtleWJvYXJkSGVpZ2h0LCBwbGF0Zm9ybUhlaWdodCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBpdGVtRWwgPSAoX2EgPSBjb21wb25lbnRFbC5jbG9zZXN0KCdpb24taXRlbSxbaW9uLWl0ZW1dJykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbXBvbmVudEVsO1xuICAgIHJldHVybiBjYWxjU2Nyb2xsRGF0YShpdGVtRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGNvbnRlbnRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwga2V5Ym9hcmRIZWlnaHQsIHBsYXRmb3JtSGVpZ2h0KTtcbn07XG5jb25zdCBjYWxjU2Nyb2xsRGF0YSA9IChpbnB1dFJlY3QsIGNvbnRlbnRSZWN0LCBrZXlib2FyZEhlaWdodCwgcGxhdGZvcm1IZWlnaHQpID0+IHtcbiAgICAvLyBjb21wdXRlIGlucHV0J3MgWSB2YWx1ZXMgcmVsYXRpdmUgdG8gdGhlIGJvZHlcbiAgICBjb25zdCBpbnB1dFRvcCA9IGlucHV0UmVjdC50b3A7XG4gICAgY29uc3QgaW5wdXRCb3R0b20gPSBpbnB1dFJlY3QuYm90dG9tO1xuICAgIC8vIGNvbXB1dGUgdmlzaWJsZSBhcmVhXG4gICAgY29uc3QgdmlzaWJsZUFyZWFUb3AgPSBjb250ZW50UmVjdC50b3A7XG4gICAgY29uc3QgdmlzaWJsZUFyZWFCb3R0b20gPSBNYXRoLm1pbihjb250ZW50UmVjdC5ib3R0b20sIHBsYXRmb3JtSGVpZ2h0IC0ga2V5Ym9hcmRIZWlnaHQpO1xuICAgIC8vIGNvbXB1dGUgc2FmZSBhcmVhXG4gICAgY29uc3Qgc2FmZUFyZWFUb3AgPSB2aXNpYmxlQXJlYVRvcCArIDE1O1xuICAgIGNvbnN0IHNhZmVBcmVhQm90dG9tID0gdmlzaWJsZUFyZWFCb3R0b20gLSBTQ1JPTExfQU1PVU5UX1BBRERJTkc7XG4gICAgLy8gZmlndXJlIG91dCBpZiBlYWNoIGVkZ2Ugb2YgdGhlIGlucHV0IGlzIHdpdGhpbiB0aGUgc2FmZSBhcmVhXG4gICAgY29uc3QgZGlzdGFuY2VUb0JvdHRvbSA9IHNhZmVBcmVhQm90dG9tIC0gaW5wdXRCb3R0b207XG4gICAgY29uc3QgZGlzdGFuY2VUb1RvcCA9IHNhZmVBcmVhVG9wIC0gaW5wdXRUb3A7XG4gICAgLy8gZGVzaXJlZFNjcm9sbEFtb3VudCBpcyB0aGUgbmVnYXRlZCBkaXN0YW5jZSB0byB0aGUgc2FmZSBhcmVhIGFjY29yZGluZyB0byBvdXIgY2FsY3VsYXRpb25zLlxuICAgIGNvbnN0IGRlc2lyZWRTY3JvbGxBbW91bnQgPSBNYXRoLnJvdW5kKGRpc3RhbmNlVG9Cb3R0b20gPCAwID8gLWRpc3RhbmNlVG9Cb3R0b20gOiBkaXN0YW5jZVRvVG9wID4gMCA/IC1kaXN0YW5jZVRvVG9wIDogMCk7XG4gICAgLy8gb3VyIGNhbGN1bGF0aW9ucyBtYWtlIHNvbWUgYXNzdW1wdGlvbnMgdGhhdCBhcmVuJ3QgYWx3YXlzIHRydWUsIGxpa2UgdGhlIGtleWJvYXJkIGJlaW5nIGNsb3NlZCB3aGVuIGFuIGlucHV0XG4gICAgLy8gZ2V0cyBmb2N1cywgc28gbWFrZSBzdXJlIHdlIGRvbid0IHNjcm9sbCB0aGUgaW5wdXQgYWJvdmUgdGhlIHZpc2libGUgYXJlYVxuICAgIGNvbnN0IHNjcm9sbEFtb3VudCA9IE1hdGgubWluKGRlc2lyZWRTY3JvbGxBbW91bnQsIGlucHV0VG9wIC0gdmlzaWJsZUFyZWFUb3ApO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoc2Nyb2xsQW1vdW50KTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IGRpc3RhbmNlIC8gU0NST0xMX0FTU0lTVF9TUEVFRDtcbiAgICBjb25zdCBzY3JvbGxEdXJhdGlvbiA9IE1hdGgubWluKDQwMCwgTWF0aC5tYXgoMTUwLCBkdXJhdGlvbikpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjcm9sbEFtb3VudCxcbiAgICAgICAgc2Nyb2xsRHVyYXRpb24sXG4gICAgICAgIHNjcm9sbFBhZGRpbmc6IGtleWJvYXJkSGVpZ2h0LFxuICAgICAgICBpbnB1dFNhZmVZOiAtKGlucHV0VG9wIC0gc2FmZUFyZWFUb3ApICsgNCxcbiAgICB9O1xufTtcblxuY29uc3QgUEFERElOR19USU1FUl9LRVkgPSAnJGlvblBhZGRpbmdUaW1lcic7XG4vKipcbiAqIFNjcm9sbCBwYWRkaW5nIGFkZHMgYWRkaXRpb25hbCBwYWRkaW5nIHRvIHRoZSBib3R0b21cbiAqIG9mIGlvbi1jb250ZW50IHNvIHRoYXQgdGhlcmUgaXMgZW5vdWdoIHNjcm9sbCBzcGFjZVxuICogZm9yIGFuIGlucHV0IHRvIGJlIHNjcm9sbGVkIGFib3ZlIHRoZSBrZXlib2FyZC4gVGhpc1xuICogaXMgbmVlZGVkIGluIGVudmlyb25tZW50cyB3aGVyZSB0aGUgd2VidmlldyBkb2VzIG5vdFxuICogcmVzaXplIHdoZW4gdGhlIGtleWJvYXJkIG9wZW5zLlxuICpcbiAqIEV4YW1wbGU6IElmIGFuIGlucHV0IGF0IHRoZSBib3R0b20gb2YgaW9uLWNvbnRlbnQgaXNcbiAqIGZvY3VzZWQsIHRoZXJlIGlzIG5vIGFkZGl0aW9uYWwgc2Nyb2xsaW5nIHNwYWNlIGJlbG93XG4gKiBpdCwgc28gdGhlIGlucHV0IGNhbm5vdCBiZSBzY3JvbGxlZCBhYm92ZSB0aGUga2V5Ym9hcmQuXG4gKiBTY3JvbGwgcGFkZGluZyBmaXhlcyB0aGlzIGJ5IGFkZGluZyBwYWRkaW5nIGVxdWFsIHRvIHRoZVxuICogaGVpZ2h0IG9mIHRoZSBrZXlib2FyZCB0byB0aGUgYm90dG9tIG9mIHRoZSBjb250ZW50LlxuICpcbiAqIENvbW1vbiBlbnZpcm9ubWVudHMgd2hlcmUgdGhpcyBpcyBuZWVkZWQ6XG4gKiAtIE1vYmlsZSBTYWZhcmk6IFRoZSBrZXlib2FyZCBvdmVybGF5cyB0aGUgY29udGVudFxuICogLSBDYXBhY2l0b3IvQ29yZG92YSBvbiBpT1M6IFRoZSBrZXlib2FyZCBvdmVybGF5cyB0aGUgY29udGVudFxuICogd2hlbiB0aGUgS2V5Ym9hcmRSZXNpemUgbW9kZSBpcyBzZXQgdG8gJ25vbmUnLlxuICovXG5jb25zdCBzZXRTY3JvbGxQYWRkaW5nID0gKGNvbnRlbnRFbCwgcGFkZGluZ0Ftb3VudCwgY2xlYXJDYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IHRpbWVyID0gY29udGVudEVsW1BBRERJTkdfVElNRVJfS0VZXTtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gICAgaWYgKHBhZGRpbmdBbW91bnQgPiAwKSB7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1rZXlib2FyZC1vZmZzZXQnLCBgJHtwYWRkaW5nQW1vdW50fXB4YCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50RWxbUEFERElOR19USU1FUl9LRVldID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJy0ta2V5Ym9hcmQtb2Zmc2V0JywgJzBweCcpO1xuICAgICAgICAgICAgaWYgKGNsZWFyQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjbGVhckNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEyMCk7XG4gICAgfVxufTtcbi8qKlxuICogV2hlbiBhbiBpbnB1dCBpcyBhYm91dCB0byBiZSBmb2N1c2VkLFxuICogc2V0IGEgdGltZW91dCB0byBjbGVhciBhbnkgc2Nyb2xsIHBhZGRpbmdcbiAqIG9uIHRoZSBjb250ZW50LiBOb3RlOiBUaGUgY2xlYXJpbmdcbiAqIGlzIGRvbmUgb24gYSB0aW1lb3V0IHNvIHRoYXQgaWYgdXNlcnNcbiAqIGFyZSBtb3ZpbmcgZm9jdXMgZnJvbSBvbmUgaW5wdXQgdG8gdGhlIG5leHRcbiAqIHRoZW4gcmUtYWRkaW5nIHNjcm9sbCBwYWRkaW5nIHRvIHRoZSBuZXdcbiAqIGlucHV0IHdpdGggY2FuY2VsIHRoZSB0aW1lb3V0IHRvIGNsZWFyIHRoZVxuICogc2Nyb2xsIHBhZGRpbmcuXG4gKi9cbmNvbnN0IHNldENsZWFyU2Nyb2xsUGFkZGluZ0xpc3RlbmVyID0gKGlucHV0RWwsIGNvbnRlbnRFbCwgZG9uZUNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgY2xlYXJTY3JvbGxQYWRkaW5nID0gKCkgPT4ge1xuICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICBzZXRTY3JvbGxQYWRkaW5nKGNvbnRlbnRFbCwgMCwgZG9uZUNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGNsZWFyU2Nyb2xsUGFkZGluZywgeyBvbmNlOiB0cnVlIH0pO1xufTtcblxubGV0IGN1cnJlbnRQYWRkaW5nID0gMDtcbmNvbnN0IFNLSVBfU0NST0xMX0FTU0lTVCA9ICdkYXRhLWlvbmljLXNraXAtc2Nyb2xsLWFzc2lzdCc7XG5jb25zdCBlbmFibGVTY3JvbGxBc3Npc3QgPSAoY29tcG9uZW50RWwsIGlucHV0RWwsIGNvbnRlbnRFbCwgZm9vdGVyRWwsIGtleWJvYXJkSGVpZ2h0LCBlbmFibGVTY3JvbGxQYWRkaW5nLCBrZXlib2FyZFJlc2l6ZSwgZGlzYWJsZUNsb25lZElucHV0ID0gZmFsc2UpID0+IHtcbiAgICAvKipcbiAgICAgKiBTY3JvbGwgcGFkZGluZyBzaG91bGQgb25seSBiZSBhZGRlZCBpZjpcbiAgICAgKiAxLiBUaGUgZ2xvYmFsIHNjcm9sbFBhZGRpbmcgY29uZmlnIG9wdGlvblxuICAgICAqIGlzIHNldCB0byB0cnVlLlxuICAgICAqIDIuIFRoZSBuYXRpdmUga2V5Ym9hcmQgcmVzaXplIG1vZGUgaXMgZWl0aGVyIFwibm9uZVwiXG4gICAgICogKGtleWJvYXJkIG92ZXJsYXlzIHdlYnZpZXcpIG9yIHVuZGVmaW5lZCAocmVzaXplXG4gICAgICogaW5mb3JtYXRpb24gdW5hdmFpbGFibGUpXG4gICAgICogUmVzaXplIGluZm8gaXMgYXZhaWxhYmxlIG9uIENhcGFjaXRvciA0K1xuICAgICAqL1xuICAgIGNvbnN0IGFkZFNjcm9sbFBhZGRpbmcgPSBlbmFibGVTY3JvbGxQYWRkaW5nICYmIChrZXlib2FyZFJlc2l6ZSA9PT0gdW5kZWZpbmVkIHx8IGtleWJvYXJkUmVzaXplLm1vZGUgPT09IEtleWJvYXJkUmVzaXplLk5vbmUpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgdHJhY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBrZXlib2FyZCBoYXMgYmVlblxuICAgICAqIHByZXNlbnRlZCBmb3IgYSBzaW5nbGUgZm9jdXNlZCB0ZXh0IGZpZWxkLiBOb3RlXG4gICAgICogdGhhdCBpdCBkb2VzIG5vdCB0cmFjayBpZiB0aGUga2V5Ym9hcmQgaXMgb3BlblxuICAgICAqIGluIGdlbmVyYWwgc3VjaCBhcyBpZiB0aGUga2V5Ym9hcmQgaXMgb3BlbiBmb3JcbiAgICAgKiBhIGRpZmZlcmVudCBmb2N1c2VkIHRleHQgZmllbGQuXG4gICAgICovXG4gICAgbGV0IGhhc0tleWJvYXJkQmVlblByZXNlbnRlZEZvclRleHRGaWVsZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZW4gYWRkaW5nIHNjcm9sbCBwYWRkaW5nIHdlIG5lZWQgdG8ga25vd1xuICAgICAqIGhvdyBtdWNoIG9mIHRoZSB2aWV3cG9ydCB0aGUga2V5Ym9hcmQgb2JzY3VyZXMuXG4gICAgICogV2UgZG8gdGhpcyBieSBzdWJ0cmFjdGluZyB0aGUga2V5Ym9hcmQgaGVpZ2h0XG4gICAgICogZnJvbSB0aGUgcGxhdGZvcm0gaGVpZ2h0LlxuICAgICAqXG4gICAgICogSWYgd2UgY29tcHV0ZSB0aGlzIHZhbHVlIHdoZW4gc3dpdGNoaW5nIGJldHdlZW5cbiAgICAgKiBpbnB1dHMgdGhlbiB0aGUgd2VidmlldyBtYXkgYWxyZWFkeSBiZSByZXNpemVkLlxuICAgICAqIEF0IHRoaXMgcG9pbnQsIGB3aW4uaW5uZXJIZWlnaHRgIGhhcyBhbHJlYWR5IGFjY291bnRlZFxuICAgICAqIGZvciB0aGUga2V5Ym9hcmQgbWVhbmluZyB3ZSB3b3VsZCB0aGVuIHN1YnRyYWN0XG4gICAgICogdGhlIGtleWJvYXJkIGhlaWdodCBhZ2Fpbi4gVGhpcyB3aWxsIHJlc3VsdCBpbiB0aGUgaW5wdXRcbiAgICAgKiBiZWluZyBzY3JvbGxlZCBtb3JlIHRoYW4gaXQgbmVlZHMgdG8uXG4gICAgICovXG4gICAgY29uc3QgcGxhdGZvcm1IZWlnaHQgPSB3aW4gIT09IHVuZGVmaW5lZCA/IHdpbi5pbm5lckhlaWdodCA6IDA7XG4gICAgLyoqXG4gICAgICogU2Nyb2xsIGFzc2lzdCBpcyBydW4gd2hlbiBhIHRleHQgZmllbGRcbiAgICAgKiBpcyBmb2N1c2VkLiBIb3dldmVyLCBpdCBtYXkgbmVlZCB0b1xuICAgICAqIHJlLXJ1biB3aGVuIHRoZSBrZXlib2FyZCBzaXplIGNoYW5nZXNcbiAgICAgKiBzdWNoIHRoYXQgdGhlIHRleHQgZmllbGQgaXMgbm93IGhpZGRlblxuICAgICAqIHVuZGVybmVhdGggdGhlIGtleWJvYXJkLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmUtcnVucyBzY3JvbGwgYXNzaXN0XG4gICAgICogd2hlbiB0aGF0IGhhcHBlbnMuXG4gICAgICpcbiAgICAgKiBPbmUgbGltaXRhdGlvbiBvZiB0aGlzIGlzIG9uIGEgd2ViIGJyb3dzZXJcbiAgICAgKiB3aGVyZSBuYXRpdmUga2V5Ym9hcmQgQVBJcyBkbyBub3QgaGF2ZSBjcm9zcy1icm93c2VyXG4gICAgICogc3VwcG9ydC4gYGlvbktleWJvYXJkRGlkU2hvd2AgcmVsaWVzIG9uIHRoZSBWaXN1YWwgVmlld3BvcnQgQVBJLlxuICAgICAqIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUga2V5Ym9hcmQgY2hhbmdlcyBidXQgZG9lcyBub3QgY2hhbmdlXG4gICAgICogZ2VvbWV0cnksIHRoZW4gc2Nyb2xsIGFzc2lzdCB3aWxsIG5vdCByZS1ydW4gZXZlbiBpZlxuICAgICAqIHRoZSB1c2VyIGhhcyBzY3JvbGxlZCB0aGUgdGV4dCBmaWVsZCB1bmRlciB0aGUga2V5Ym9hcmQuXG4gICAgICogVGhpcyBpcyBub3QgYSBwcm9ibGVtIHdoZW4gcnVubmluZyBpbiBDb3Jkb3ZhL0NhcGFjaXRvclxuICAgICAqIGJlY2F1c2UgYGlvbktleWJvYXJkRGlkU2hvd2AgdXNlcyB0aGUgbmF0aXZlIGV2ZW50c1xuICAgICAqIHdoaWNoIGZpcmUgZXZlcnkgdGltZSB0aGUga2V5Ym9hcmQgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjb25zdCBrZXlib2FyZFNob3cgPSAoZXYpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBrZXlib2FyZCBoYXMgbm90IHlldCBiZWVuIHByZXNlbnRlZFxuICAgICAgICAgKiBmb3IgdGhpcyB0ZXh0IGZpZWxkIHRoZW4gdGhlIHRleHQgZmllbGQgaGFzIGp1c3RcbiAgICAgICAgICogcmVjZWl2ZWQgZm9jdXMuIEluIHRoYXQgY2FzZSwgdGhlIGZvY3VzaW4gbGlzdGVuZXJcbiAgICAgICAgICogd2lsbCBydW4gc2Nyb2xsIGFzc2lzdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChoYXNLZXlib2FyZEJlZW5QcmVzZW50ZWRGb3JUZXh0RmllbGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBoYXNLZXlib2FyZEJlZW5QcmVzZW50ZWRGb3JUZXh0RmllbGQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdGhlcndpc2UsIHRoZSBrZXlib2FyZCBoYXMgYWxyZWFkeSBiZWVuIHByZXNlbnRlZFxuICAgICAgICAgKiBmb3IgdGhlIGZvY3VzZWQgdGV4dCBmaWVsZC5cbiAgICAgICAgICogVGhpcyBtZWFucyB0aGF0IHRoZSBrZXlib2FyZCBsaWtlbHkgY2hhbmdlZFxuICAgICAgICAgKiBnZW9tZXRyeSwgYW5kIHdlIG5lZWQgdG8gcmUtcnVuIHNjcm9sbCBhc3Npc3QuXG4gICAgICAgICAqIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSB1c2VyIHJvdGF0ZXMgdGhlaXIgZGV2aWNlXG4gICAgICAgICAqIG9yIHdoZW4gdGhleSBzd2l0Y2gga2V5Ym9hcmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBNYWtlIHN1cmUgd2UgcGFzcyBpbiB0aGUgY29tcHV0ZWQga2V5Ym9hcmQgaGVpZ2h0XG4gICAgICAgICAqIHJhdGhlciB0aGFuIHRoZSBlc3RpbWF0ZWQga2V5Ym9hcmQgaGVpZ2h0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTaW5jZSB0aGUga2V5Ym9hcmQgaXMgYWxyZWFkeSBvcGVuIHRoZW4gd2UgZG8gbm90XG4gICAgICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgdGhlIHdlYnZpZXcgdG8gcmVzaXplLCBzbyB3ZSBwYXNzXG4gICAgICAgICAqIFwid2FpdEZvclJlc2l6ZTogZmFsc2VcIi5cbiAgICAgICAgICovXG4gICAgICAgIGpzU2V0Rm9jdXMoY29tcG9uZW50RWwsIGlucHV0RWwsIGNvbnRlbnRFbCwgZm9vdGVyRWwsIGV2LmRldGFpbC5rZXlib2FyZEhlaWdodCwgYWRkU2Nyb2xsUGFkZGluZywgZGlzYWJsZUNsb25lZElucHV0LCBwbGF0Zm9ybUhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGludGVybmFsIHN0YXRlIHdoZW4gdGhlIHRleHQgZmllbGQgbG9zZXMgZm9jdXMuXG4gICAgICovXG4gICAgY29uc3QgZm9jdXNPdXQgPSAoKSA9PiB7XG4gICAgICAgIGhhc0tleWJvYXJkQmVlblByZXNlbnRlZEZvclRleHRGaWVsZCA9IGZhbHNlO1xuICAgICAgICB3aW4gPT09IG51bGwgfHwgd2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywga2V5Ym9hcmRTaG93KTtcbiAgICAgICAgY29tcG9uZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBmb2N1c091dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBpbnB1dCBpcyBhYm91dCB0byByZWNlaXZlXG4gICAgICogZm9jdXMsIHdlIG5lZWQgdG8gbW92ZSBpdCB0byBwcmV2ZW50XG4gICAgICogbW9iaWxlIFNhZmFyaSBmcm9tIGFkanVzdGluZyB0aGUgdmlld3BvcnQuXG4gICAgICovXG4gICAgY29uc3QgZm9jdXNJbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBhc3Npc3Qgc2hvdWxkIG5vdCBydW4gYWdhaW5cbiAgICAgICAgICogb24gaW5wdXRzIHRoYXQgaGF2ZSBiZWVuIG1hbnVhbGx5XG4gICAgICAgICAqIGZvY3VzZWQgaW5zaWRlIG9mIHRoZSBzY3JvbGwgYXNzaXN0XG4gICAgICAgICAqIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGlucHV0RWwuaGFzQXR0cmlidXRlKFNLSVBfU0NST0xMX0FTU0lTVCkpIHtcbiAgICAgICAgICAgIGlucHV0RWwucmVtb3ZlQXR0cmlidXRlKFNLSVBfU0NST0xMX0FTU0lTVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAganNTZXRGb2N1cyhjb21wb25lbnRFbCwgaW5wdXRFbCwgY29udGVudEVsLCBmb290ZXJFbCwga2V5Ym9hcmRIZWlnaHQsIGFkZFNjcm9sbFBhZGRpbmcsIGRpc2FibGVDbG9uZWRJbnB1dCwgcGxhdGZvcm1IZWlnaHQpO1xuICAgICAgICB3aW4gPT09IG51bGwgfHwgd2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW4uYWRkRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywga2V5Ym9hcmRTaG93KTtcbiAgICAgICAgY29tcG9uZW50RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBmb2N1c091dCk7XG4gICAgfTtcbiAgICBjb21wb25lbnRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgZm9jdXNJbik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29tcG9uZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGZvY3VzSW4pO1xuICAgICAgICB3aW4gPT09IG51bGwgfHwgd2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywga2V5Ym9hcmRTaG93KTtcbiAgICAgICAgY29tcG9uZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBmb2N1c091dCk7XG4gICAgfTtcbn07XG4vKipcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHdoZW4geW91IHdhbnQgdG8gbWFudWFsbHlcbiAqIGZvY3VzIGFuIGlucHV0IGJ1dCBub3QgaGF2ZSBzY3JvbGwgYXNzaXN0IHJ1biBhZ2Fpbi5cbiAqL1xuY29uc3Qgc2V0TWFudWFsRm9jdXMgPSAoZWwpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgLyoqXG4gICAgICogSWYgZWxlbWVudCBpcyBhbHJlYWR5IGZvY3VzZWQgdGhlblxuICAgICAqIGEgbmV3IGZvY3VzaW4gZXZlbnQgd2lsbCBub3QgYmUgZGlzcGF0Y2hlZFxuICAgICAqIHRvIHJlbW92ZSB0aGUgU0tJTF9TQ1JPTExfQVNTSVNUIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcHRpbWl6YXRpb24gZm9yIHNjZW5hcmlvcyB3aGVyZSB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudCBpcyBhIHNpYmxpbmdcbiAgICAgKiBvZiB0aGUgdGFyZ2V0IGVsZW1lbnQuIEluIHN1Y2ggY2FzZXMsIHdlIGF2b2lkIHNldHRpbmcgYFNLSVBfU0NST0xMX0FTU0lTVGAuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGNydWNpYWwgZm9yIGFjY2Vzc2liaWxpdHk6IGlucHV0IGVsZW1lbnRzIGNhbiBub3cgY29udGFpbiBmb2N1c2FibGVcbiAgICAgKiBzaWJsaW5ncyAoZS5nLiwgY2xlYXIgYnV0dG9ucywgc2xvdHRlZCBlbGVtZW50cykuIElmIHdlIGRpZG4ndCBza2lwIHNldHRpbmdcbiAgICAgKiB0aGUgYXR0cmlidXRlIGhlcmUsIHNjcmVlbiByZWFkZXJzIHdvdWxkIGJlIHVuYWJsZSB0byBuYXZpZ2F0ZSB0byBhbmQgaW50ZXJhY3RcbiAgICAgKiB3aXRoIHRoZXNlIHNpYmxpbmcgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBXaXRob3V0IHRoaXMgY2hlY2ssIHdlIHdvdWxkIG5lZWQgdG8gY2FsbCBgZXYuc3RvcFByb3BhZ2F0aW9uKClgIG9uIHRoZVxuICAgICAqICdmb2N1c2luJyBldmVudCBvZiBlYWNoIGZvY3VzYWJsZSBzaWJsaW5nIHRvIHByZXZlbnQgdGhlIHNjcm9sbCBhc3Npc3RcbiAgICAgKiBsaXN0ZW5lciBmcm9tIGluY29ycmVjdGx5IG1vdmluZyBmb2N1cyBiYWNrIHRvIHRoZSBpbnB1dC4gVGhhdCBhcHByb2FjaFxuICAgICAqIHdvdWxkIGJlIGxlc3MgbWFpbnRhaW5hYmxlIGFuZCBtb3JlIGVycm9yLXByb25lLlxuICAgICAqL1xuICAgIGNvbnN0IGlucHV0SWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgY29uc3QgbGFiZWwgPSBlbC5jbG9zZXN0KGBsYWJlbFtmb3I9XCIke2lucHV0SWR9XCJdYCk7XG4gICAgY29uc3QgYWN0aXZlRWxMYWJlbCA9IChfYSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZXN0KGBsYWJlbFtmb3I9XCIke2lucHV0SWR9XCJdYCk7XG4gICAgaWYgKGxhYmVsICE9PSBudWxsICYmIGxhYmVsID09PSBhY3RpdmVFbExhYmVsKSB7XG4gICAgICAgIC8vIElmIHRoZSBsYWJlbCBpcyB0aGUgc2FtZSBhcyB0aGUgYWN0aXZlIGVsZW1lbnQgbGFiZWwsIHRoZW5cbiAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBzZXQgdGhlIGBTS0lQX1NDUk9MTF9BU1NJU1RgIGFuZCByZXNldCBmb2N1cy5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoU0tJUF9TQ1JPTExfQVNTSVNULCAndHJ1ZScpO1xuICAgIGVsLmZvY3VzKCk7XG59O1xuY29uc3QganNTZXRGb2N1cyA9IGFzeW5jIChjb21wb25lbnRFbCwgaW5wdXRFbCwgY29udGVudEVsLCBmb290ZXJFbCwga2V5Ym9hcmRIZWlnaHQsIGVuYWJsZVNjcm9sbFBhZGRpbmcsIGRpc2FibGVDbG9uZWRJbnB1dCA9IGZhbHNlLCBwbGF0Zm9ybUhlaWdodCA9IDAsIHdhaXRGb3JSZXNpemUgPSB0cnVlKSA9PiB7XG4gICAgaWYgKCFjb250ZW50RWwgJiYgIWZvb3RlckVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2Nyb2xsRGF0YSA9IGdldFNjcm9sbERhdGEoY29tcG9uZW50RWwsIChjb250ZW50RWwgfHwgZm9vdGVyRWwpLCBrZXlib2FyZEhlaWdodCwgcGxhdGZvcm1IZWlnaHQpO1xuICAgIGlmIChjb250ZW50RWwgJiYgTWF0aC5hYnMoc2Nyb2xsRGF0YS5zY3JvbGxBbW91bnQpIDwgNCkge1xuICAgICAgICAvLyB0aGUgdGV4dCBpbnB1dCBpcyBpbiBhIHNhZmUgcG9zaXRpb24gdGhhdCBkb2Vzbid0XG4gICAgICAgIC8vIHJlcXVpcmUgaXQgdG8gYmUgc2Nyb2xsZWQgaW50byB2aWV3LCBqdXN0IHNldCBmb2N1cyBub3dcbiAgICAgICAgc2V0TWFudWFsRm9jdXMoaW5wdXRFbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVuIHRob3VnaCB0aGUgaW5wdXQgZG9lcyBub3QgbmVlZFxuICAgICAgICAgKiBzY3JvbGwgYXNzaXN0LCB3ZSBzaG91bGQgcHJlc2VydmUgdGhlXG4gICAgICAgICAqIHRoZSBzY3JvbGwgcGFkZGluZyBhcyB1c2VycyBjb3VsZCBiZSBtb3ZpbmdcbiAgICAgICAgICogZm9jdXMgZnJvbSBhbiBpbnB1dCB0aGF0IG5lZWRzIHNjcm9sbCBwYWRkaW5nXG4gICAgICAgICAqIHRvIGFuIGlucHV0IHRoYXQgZG9lcyBub3QgbmVlZCBzY3JvbGwgcGFkZGluZy5cbiAgICAgICAgICogSWYgd2UgcmVtb3ZlIHRoZSBzY3JvbGwgcGFkZGluZyBub3csIHVzZXJzIHdpbGxcbiAgICAgICAgICogc2VlIHRoZSBwYWdlIGp1bXAuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZW5hYmxlU2Nyb2xsUGFkZGluZyAmJiBjb250ZW50RWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFNjcm9sbFBhZGRpbmcoY29udGVudEVsLCBjdXJyZW50UGFkZGluZyk7XG4gICAgICAgICAgICBzZXRDbGVhclNjcm9sbFBhZGRpbmdMaXN0ZW5lcihpbnB1dEVsLCBjb250ZW50RWwsICgpID0+IChjdXJyZW50UGFkZGluZyA9IDApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHRlbXBvcmFyaWx5IG1vdmUgdGhlIGZvY3VzIHRvIHRoZSBmb2N1cyBob2xkZXIgc28gdGhlIGJyb3dzZXJcbiAgICAvLyBkb2Vzbid0IGZyZWFrIG91dCB3aGlsZSBpdCdzIHRyeWluZyB0byBnZXQgdGhlIGlucHV0IGluIHBsYWNlXG4gICAgLy8gYXQgdGhpcyBwb2ludCB0aGUgbmF0aXZlIHRleHQgaW5wdXQgc3RpbGwgZG9lcyBub3QgaGF2ZSBmb2N1c1xuICAgIHJlbG9jYXRlSW5wdXQoY29tcG9uZW50RWwsIGlucHV0RWwsIHRydWUsIHNjcm9sbERhdGEuaW5wdXRTYWZlWSwgZGlzYWJsZUNsb25lZElucHV0KTtcbiAgICBzZXRNYW51YWxGb2N1cyhpbnB1dEVsKTtcbiAgICAvKipcbiAgICAgKiBSZWxvY2F0aW5nL0ZvY3VzaW5nIGlucHV0IGNhdXNlcyB0aGVcbiAgICAgKiBjbGljayBldmVudCB0byBiZSBjYW5jZWxsZWQsIHNvXG4gICAgICogbWFudWFsbHkgZmlyZSBvbmUgaGVyZS5cbiAgICAgKi9cbiAgICByYWYoKCkgPT4gY29tcG9uZW50RWwuY2xpY2soKSk7XG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgd2UgY2FuIGFkZCBzY3JvbGwgcGFkZGluZyB0b1xuICAgICAqIHRoZSBib3R0b20gb2YgdGhlIGNvbnRlbnQgc28gdGhhdCBzY3JvbGwgYXNzaXN0XG4gICAgICogaGFzIGVub3VnaCByb29tIHRvIHNjcm9sbCB0aGUgaW5wdXQgYWJvdmVcbiAgICAgKiB0aGUga2V5Ym9hcmQuXG4gICAgICovXG4gICAgaWYgKGVuYWJsZVNjcm9sbFBhZGRpbmcgJiYgY29udGVudEVsKSB7XG4gICAgICAgIGN1cnJlbnRQYWRkaW5nID0gc2Nyb2xsRGF0YS5zY3JvbGxQYWRkaW5nO1xuICAgICAgICBzZXRTY3JvbGxQYWRkaW5nKGNvbnRlbnRFbCwgY3VycmVudFBhZGRpbmcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbGV0IHNjcm9sbENvbnRlbnRUaW1lb3V0O1xuICAgICAgICBjb25zdCBzY3JvbGxDb250ZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2xlYW4gdXAgbGlzdGVuZXJzIGFuZCB0aW1lb3V0c1xuICAgICAgICAgICAgaWYgKHNjcm9sbENvbnRlbnRUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsQ29udGVudFRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lvbktleWJvYXJkRGlkU2hvdycsIGRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywgc2Nyb2xsQ29udGVudCk7XG4gICAgICAgICAgICAvLyBzY3JvbGwgdGhlIGlucHV0IGludG8gcGxhY2VcbiAgICAgICAgICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzY3JvbGxCeVBvaW50KGNvbnRlbnRFbCwgMCwgc2Nyb2xsRGF0YS5zY3JvbGxBbW91bnQsIHNjcm9sbERhdGEuc2Nyb2xsRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHNjcm9sbCB2aWV3IGlzIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uIG5vd1xuICAgICAgICAgICAgLy8gZ2l2ZSB0aGUgbmF0aXZlIHRleHQgaW5wdXQgZm9jdXNcbiAgICAgICAgICAgIHJlbG9jYXRlSW5wdXQoY29tcG9uZW50RWwsIGlucHV0RWwsIGZhbHNlLCBzY3JvbGxEYXRhLmlucHV0U2FmZVkpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRoaXMgaXMgdGhlIGZvY3VzZWQgaW5wdXRcbiAgICAgICAgICAgIHNldE1hbnVhbEZvY3VzKGlucHV0RWwpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVuIHRoZSBpbnB1dCBpcyBhYm91dCB0byBiZSBibHVycmVkXG4gICAgICAgICAgICAgKiB3ZSBzaG91bGQgc2V0IGEgdGltZW91dCB0byByZW1vdmVcbiAgICAgICAgICAgICAqIGFueSBzY3JvbGwgcGFkZGluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGVuYWJsZVNjcm9sbFBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICBzZXRDbGVhclNjcm9sbFBhZGRpbmdMaXN0ZW5lcihpbnB1dEVsLCBjb250ZW50RWwsICgpID0+IChjdXJyZW50UGFkZGluZyA9IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZG91YmxlS2V5Ym9hcmRFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lvbktleWJvYXJkRGlkU2hvdycsIGRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywgc2Nyb2xsQ29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbEVsID0gYXdhaXQgZ2V0U2Nyb2xsRWxlbWVudChjb250ZW50RWwpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBzY3JvbGxEYXRhIHdpbGwgb25seSBjb25zaWRlciB0aGUgYW1vdW50IHdlIG5lZWRcbiAgICAgICAgICAgICAqIHRvIHNjcm9sbCBpbiBvcmRlciB0byBwcm9wZXJseSBicmluZyB0aGUgaW5wdXRcbiAgICAgICAgICAgICAqIGludG8gdmlldy4gSXQgd2lsbCBub3QgY29uc2lkZXIgdGhlIGFtb3VudFxuICAgICAgICAgICAgICogd2UgY2FuIHNjcm9sbCBpbiB0aGUgY29udGVudCBlbGVtZW50LlxuICAgICAgICAgICAgICogQXMgYSByZXN1bHQsIHNjcm9sbERhdGEgbWF5IHJlcXVlc3QgYSBncmVhdGVyXG4gICAgICAgICAgICAgKiBzY3JvbGwgcG9zaXRpb24gdGhhbiBpcyBjdXJyZW50bHkgYXZhaWxhYmxlXG4gICAgICAgICAgICAgKiBpbiB0aGUgRE9NLiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAgKiB3YWl0IGZvciB0aGUgd2VidmlldyB0byByZXNpemUvdGhlIGtleWJvYXJkXG4gICAgICAgICAgICAgKiB0byBzaG93IGluIG9yZGVyIGZvciBhZGRpdGlvbmFsIHNjcm9sbFxuICAgICAgICAgICAgICogYmFuZHdpZHRoIHRvIGJlY29tZSBhdmFpbGFibGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2Nyb2xsQW1vdW50ID0gc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHdhaXRGb3JSZXNpemUgJiYgc2Nyb2xsRGF0YS5zY3JvbGxBbW91bnQgPiB0b3RhbFNjcm9sbEFtb3VudCAtIHNjcm9sbEVsLnNjcm9sbFRvcCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIE9uIGlPUyBkZXZpY2VzLCB0aGUgc3lzdGVtIHdpbGwgc2hvdyBhIFwiUGFzc3dvcmRzXCIgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgICAgICAgICAgICAgICAqIGFmdGVyIHRoZSBpbml0aWFsIGtleWJvYXJkIGlzIHNob3duLiBUaGlzIHByZXZlbnRzIHRoZSB3ZWJ2aWV3IGZyb20gcmVzaXppbmdcbiAgICAgICAgICAgICAgICAgKiB1bnRpbCB0aGUgXCJQYXNzd29yZHNcIiBiYXIgaXMgc2hvd24sIHNvIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhhdCB0byBoYXBwZW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0RWwudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgNTBweCB0byBhY2NvdW50IGZvciB0aGUgXCJQYXNzd29yZHNcIiBiYXJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGF0YS5zY3JvbGxBbW91bnQgKz0gU0NST0xMX0FNT1VOVF9QQURESU5HO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93JywgZG91YmxlS2V5Ym9hcmRFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBzY3JvbGxDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhpcyBzaG91bGQgb25seSBmaXJlIGluIDIgaW5zdGFuY2VzOlxuICAgICAgICAgICAgICAgICAqIDEuIFRoZSBhcHAgaXMgdmVyeSBzbG93LlxuICAgICAgICAgICAgICAgICAqIDIuIFRoZSBhcHAgaXMgcnVubmluZyBpbiBhIGJyb3dzZXIgb24gYW4gb2xkIE9TXG4gICAgICAgICAgICAgICAgICogdGhhdCBkb2VzIG5vdCBzdXBwb3J0IElvbmljIEtleWJvYXJkIEV2ZW50c1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNjcm9sbENvbnRlbnRUaW1lb3V0ID0gc2V0VGltZW91dChzY3JvbGxDb250ZW50LCAxMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2Nyb2xsQ29udGVudCgpO1xuICAgIH1cbn07XG5cbmNvbnN0IElOUFVUX0JMVVJSSU5HID0gdHJ1ZTtcbmNvbnN0IHN0YXJ0SW5wdXRTaGltcyA9IGFzeW5jIChjb25maWcsIHBsYXRmb3JtKSA9PiB7XG4gICAgLyoqXG4gICAgICogSWYgZG9jIGlzIHVuZGVmaW5lZCB0aGVuIHdlIGFyZSBpbiBhbiBTU1IgZW52aXJvbm1lbnRcbiAgICAgKiB3aGVyZSBpbnB1dCBzaGltcyBkbyBub3QgYXBwbHkuXG4gICAgICovXG4gICAgaWYgKGRvYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNJT1MgPSBwbGF0Zm9ybSA9PT0gJ2lvcyc7XG4gICAgY29uc3QgaXNBbmRyb2lkID0gcGxhdGZvcm0gPT09ICdhbmRyb2lkJztcbiAgICAvKipcbiAgICAgKiBIaWRlIENhcmV0IGFuZCBJbnB1dCBCbHVycmluZyBhcmUgbmVlZGVkIG9uIGlPUy5cbiAgICAgKiBTY3JvbGwgQXNzaXN0IGFuZCBTY3JvbGwgUGFkZGluZyBhcmUgbmVlZGVkIG9uIGlPUyBhbmQgQW5kcm9pZFxuICAgICAqIHdpdGggQ2hyb21lIHdlYiBicm93c2VyIChub3QgQ2hyb21lIHdlYnZpZXcpLlxuICAgICAqL1xuICAgIGNvbnN0IGtleWJvYXJkSGVpZ2h0ID0gY29uZmlnLmdldE51bWJlcigna2V5Ym9hcmRIZWlnaHQnLCAyOTApO1xuICAgIGNvbnN0IHNjcm9sbEFzc2lzdCA9IGNvbmZpZy5nZXRCb29sZWFuKCdzY3JvbGxBc3Npc3QnLCB0cnVlKTtcbiAgICBjb25zdCBoaWRlQ2FyZXQgPSBjb25maWcuZ2V0Qm9vbGVhbignaGlkZUNhcmV0T25TY3JvbGwnLCBpc0lPUyk7XG4gICAgLyoqXG4gICAgICogVGhlIHRlYW0gaXMgZXZhbHVhdGluZyBpZiBpbnB1dEJsdXJyaW5nIGlzIHN0aWxsIG5lZWRlZC4gQXMgYSByZXN1bHRcbiAgICAgKiB0aGlzIGZlYXR1cmUgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdCBhcyBvZiBJb25pYyA4LjAuIERldmVsb3BlcnMgYXJlXG4gICAgICogYWJsZSB0byByZS1lbmFibGUgaXQgdGVtcG9yYXJpbHkuIFRoZSB0ZWFtIG1heSByZW1vdmUgdGhpcyB1dGlsaXR5XG4gICAgICogaWYgaXQgaXMgZGV0ZXJtaW5lZCB0aGF0IGRvaW5nIHNvIHdvdWxkIG5vdCBicmluZyBhbnkgYWR2ZXJzZSBzaWRlIGVmZmVjdHMuXG4gICAgICogVE9ETyBGVy02MDE0IHJlbW92ZSBpbnB1dCBibHVycmluZyB1dGlsaXR5IChpbmNsdWRpbmcgaW1wbGVtZW50YXRpb24pXG4gICAgICovXG4gICAgY29uc3QgaW5wdXRCbHVycmluZyA9IGNvbmZpZy5nZXRCb29sZWFuKCdpbnB1dEJsdXJyaW5nJywgZmFsc2UpO1xuICAgIGNvbnN0IHNjcm9sbFBhZGRpbmcgPSBjb25maWcuZ2V0Qm9vbGVhbignc2Nyb2xsUGFkZGluZycsIHRydWUpO1xuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1pbnB1dCwgaW9uLXRleHRhcmVhJykpO1xuICAgIGNvbnN0IGhpZGVDYXJldE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3Qgc2Nyb2xsQXNzaXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKipcbiAgICAgKiBHcmFiIHRoZSBuYXRpdmUga2V5Ym9hcmQgcmVzaXplIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBhbmQgcGFzcyBpdCB0byBzY3JvbGwgYXNzaXN0LiBTY3JvbGwgYXNzaXN0IHJlcXVpcmVzXG4gICAgICogdGhhdCB3ZSBhZGp1c3QgdGhlIGlucHV0IHJpZ2h0IGJlZm9yZSB0aGUgaW5wdXRcbiAgICAgKiBpcyBhYm91dCB0byBiZSBmb2N1c2VkLiBJZiB3ZSBjYWxsZWQgYEtleWJvYXJkLmdldFJlc2l6ZU1vZGVgXG4gICAgICogb24gZm9jdXNpbiBpbiBzY3JvbGwgYXNzaXN0LCB3ZSBjb3VsZCBwb3RlbnRpYWxseSBhZGp1c3QgdGhlXG4gICAgICogaW5wdXQgdG9vIGxhdGUgc2luY2UgdGhpcyBjYWxsIGlzIGFzeW5jLlxuICAgICAqL1xuICAgIGNvbnN0IGtleWJvYXJkUmVzaXplTW9kZSA9IGF3YWl0IEtleWJvYXJkLmdldFJlc2l6ZU1vZGUoKTtcbiAgICBjb25zdCByZWdpc3RlcklucHV0ID0gYXN5bmMgKGNvbXBvbmVudEVsKSA9PiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBjb21wb25lbnRPblJlYWR5KGNvbXBvbmVudEVsLCByZXNvbHZlKSk7XG4gICAgICAgIGNvbnN0IGlucHV0Um9vdCA9IGNvbXBvbmVudEVsLnNoYWRvd1Jvb3QgfHwgY29tcG9uZW50RWw7XG4gICAgICAgIGNvbnN0IGlucHV0RWwgPSBpbnB1dFJvb3QucXVlcnlTZWxlY3RvcignaW5wdXQnKSB8fCBpbnB1dFJvb3QucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsRWwgPSBmaW5kQ2xvc2VzdElvbkNvbnRlbnQoY29tcG9uZW50RWwpO1xuICAgICAgICBjb25zdCBmb290ZXJFbCA9ICFzY3JvbGxFbCA/IGNvbXBvbmVudEVsLmNsb3Nlc3QoJ2lvbi1mb290ZXInKSA6IG51bGw7XG4gICAgICAgIGlmICghaW5wdXRFbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXNjcm9sbEVsICYmIGhpZGVDYXJldCAmJiAhaGlkZUNhcmV0TWFwLmhhcyhjb21wb25lbnRFbCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJtRm4gPSBlbmFibGVIaWRlQ2FyZXRPblNjcm9sbChjb21wb25lbnRFbCwgaW5wdXRFbCwgc2Nyb2xsRWwpO1xuICAgICAgICAgICAgaGlkZUNhcmV0TWFwLnNldChjb21wb25lbnRFbCwgcm1Gbik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGUvZGF0ZXRpbWUtbG9jYWxlIGlucHV0cyBvbiBtb2JpbGUgZGV2aWNlcyBzaG93IGRhdGUgcGlja2VyXG4gICAgICAgICAqIG92ZXJsYXlzIGluc3RlYWQgb2Yga2V5Ym9hcmRzLiBBcyBhIHJlc3VsdCwgc2Nyb2xsIGFzc2lzdCBpc1xuICAgICAgICAgKiBub3QgbmVlZGVkLiBUaGlzIGFsc28gd29ya3MgYXJvdW5kIGEgYnVnIGluIGlPUyA8MTYgd2hlcmVcbiAgICAgICAgICogc2Nyb2xsIGFzc2lzdCBjYXVzZXMgdGhlIGJyb3dzZXIgdG8gbG9jayB1cC4gU2VlIEZXLTE5OTcuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBpc0RhdGVJbnB1dCA9IGlucHV0RWwudHlwZSA9PT0gJ2RhdGUnIHx8IGlucHV0RWwudHlwZSA9PT0gJ2RhdGV0aW1lLWxvY2FsJztcbiAgICAgICAgaWYgKCFpc0RhdGVJbnB1dCAmJlxuICAgICAgICAgICAgKCEhc2Nyb2xsRWwgfHwgISFmb290ZXJFbCkgJiZcbiAgICAgICAgICAgIHNjcm9sbEFzc2lzdCAmJlxuICAgICAgICAgICAgIXNjcm9sbEFzc2lzdE1hcC5oYXMoY29tcG9uZW50RWwpKSB7XG4gICAgICAgICAgICBjb25zdCBybUZuID0gZW5hYmxlU2Nyb2xsQXNzaXN0KGNvbXBvbmVudEVsLCBpbnB1dEVsLCBzY3JvbGxFbCwgZm9vdGVyRWwsIGtleWJvYXJkSGVpZ2h0LCBzY3JvbGxQYWRkaW5nLCBrZXlib2FyZFJlc2l6ZU1vZGUsIGlzQW5kcm9pZCk7XG4gICAgICAgICAgICBzY3JvbGxBc3Npc3RNYXAuc2V0KGNvbXBvbmVudEVsLCBybUZuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdW5yZWdpc3RlcklucHV0ID0gKGNvbXBvbmVudEVsKSA9PiB7XG4gICAgICAgIGlmIChoaWRlQ2FyZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gaGlkZUNhcmV0TWFwLmdldChjb21wb25lbnRFbCk7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGlkZUNhcmV0TWFwLmRlbGV0ZShjb21wb25lbnRFbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcm9sbEFzc2lzdCkge1xuICAgICAgICAgICAgY29uc3QgZm4gPSBzY3JvbGxBc3Npc3RNYXAuZ2V0KGNvbXBvbmVudEVsKTtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY3JvbGxBc3Npc3RNYXAuZGVsZXRlKGNvbXBvbmVudEVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlucHV0Qmx1cnJpbmcgJiYgSU5QVVRfQkxVUlJJTkcpIHtcbiAgICAgICAgZW5hYmxlSW5wdXRCbHVycmluZygpO1xuICAgIH1cbiAgICAvLyBJbnB1dCBtaWdodCBiZSBhbHJlYWR5IGxvYWRlZCBpbiB0aGUgRE9NIGJlZm9yZSBpb24tZGV2aWNlLWhhY2tzIGRpZC5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIG5lZWQgdG8gbG9vayBmb3IgYWxsIG9mIHRoZSBpbnB1dHMgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgLy8gYW5kIHJlZ2lzdGVyIHRoZW0uXG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnB1dChpbnB1dCk7XG4gICAgfVxuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdpb25JbnB1dERpZExvYWQnLCAoZXYpID0+IHtcbiAgICAgICAgcmVnaXN0ZXJJbnB1dChldi5kZXRhaWwpO1xuICAgIH0pO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdpb25JbnB1dERpZFVubG9hZCcsIChldikgPT4ge1xuICAgICAgICB1bnJlZ2lzdGVySW5wdXQoZXYuZGV0YWlsKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHN0YXJ0SW5wdXRTaGltcyB9O1xuIl0sIm5hbWVzIjpbImNsb25lTWFwIiwiV2Vha01hcCIsInJlbG9jYXRlSW5wdXQiLCJjb21wb25lbnRFbCIsImlucHV0RWwiLCJzaG91bGRSZWxvY2F0ZSIsImlucHV0UmVsYXRpdmVZIiwiZGlzYWJsZWRDbG9uZWRJbnB1dCIsImhhcyIsImFkZENsb25lIiwicmVtb3ZlQ2xvbmUiLCJwYXJlbnRFbCIsInBhcmVudE5vZGUiLCJjbG9uZWRFbCIsImNsb25lTm9kZSIsImNsYXNzTGlzdCIsImFkZCIsInRhYkluZGV4IiwiZGlzYWJsZWQiLCJhcHBlbmRDaGlsZCIsInNldCIsInR4Iiwib3duZXJEb2N1bWVudCIsImRpciIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsInRyYW5zZm9ybSIsImNsb25lIiwiZ2V0IiwiZGVsZXRlIiwicmVtb3ZlIiwiU0tJUF9TRUxFQ1RPUiIsImNhbGNTY3JvbGxEYXRhIiwiaW5wdXRSZWN0IiwiY29udGVudFJlY3QiLCJrZXlib2FyZEhlaWdodCIsInBsYXRmb3JtSGVpZ2h0IiwiaW5wdXRUb3AiLCJ0b3AiLCJpbnB1dEJvdHRvbSIsImJvdHRvbSIsInZpc2libGVBcmVhVG9wIiwic2FmZUFyZWFUb3AiLCJkaXN0YW5jZVRvQm90dG9tIiwiTWF0aCIsIm1pbiIsImRpc3RhbmNlVG9Ub3AiLCJkZXNpcmVkU2Nyb2xsQW1vdW50Iiwicm91bmQiLCJzY3JvbGxBbW91bnQiLCJkdXJhdGlvbiIsImFicyIsInNjcm9sbER1cmF0aW9uIiwibWF4Iiwic2Nyb2xsUGFkZGluZyIsImlucHV0U2FmZVkiLCJQQURESU5HX1RJTUVSX0tFWSIsInNldFNjcm9sbFBhZGRpbmciLCJjb250ZW50RWwiLCJwYWRkaW5nQW1vdW50IiwiY2xlYXJDYWxsYmFjayIsInRpbWVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0UHJvcGVydHkiLCJzZXRUaW1lb3V0Iiwic2V0Q2xlYXJTY3JvbGxQYWRkaW5nTGlzdGVuZXIiLCJkb25lQ2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJTY3JvbGxQYWRkaW5nIiwib25jZSIsImN1cnJlbnRQYWRkaW5nIiwiU0tJUF9TQ1JPTExfQVNTSVNUIiwic2V0TWFudWFsRm9jdXMiLCJlbCIsIl9hIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiaW5wdXRJZCIsImdldEF0dHJpYnV0ZSIsImxhYmVsIiwiY2xvc2VzdCIsImFjdGl2ZUVsTGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJmb2N1cyIsImpzU2V0Rm9jdXMiLCJhc3luYyIsImZvb3RlckVsIiwiZW5hYmxlU2Nyb2xsUGFkZGluZyIsImRpc2FibGVDbG9uZWRJbnB1dCIsIndhaXRGb3JSZXNpemUiLCJzY3JvbGxEYXRhIiwiZ2V0U2Nyb2xsRGF0YSIsIml0ZW1FbCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJhZiIsImNsaWNrIiwid2luZG93Iiwic2Nyb2xsQ29udGVudFRpbWVvdXQiLCJzY3JvbGxDb250ZW50IiwidW5kZWZpbmVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lciIsInNjcm9sbEJ5UG9pbnQiLCJzY3JvbGxFbCIsImdldFNjcm9sbEVsZW1lbnQiLCJ0b3RhbFNjcm9sbEFtb3VudCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInNjcm9sbFRvcCIsInR5cGUiLCJleHBvcnRzIiwiY29uZmlnIiwicGxhdGZvcm0iLCJkb2MiLCJpc0lPUyIsImlzQW5kcm9pZCIsImdldE51bWJlciIsInNjcm9sbEFzc2lzdCIsImdldEJvb2xlYW4iLCJoaWRlQ2FyZXQiLCJpbnB1dEJsdXJyaW5nIiwiaW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImhpZGVDYXJldE1hcCIsInNjcm9sbEFzc2lzdE1hcCIsImtleWJvYXJkUmVzaXplTW9kZSIsIktleWJvYXJkIiwiZ2V0UmVzaXplTW9kZSIsInJlZ2lzdGVySW5wdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbXBvbmVudE9uUmVhZHkiLCJpbnB1dFJvb3QiLCJzaGFkb3dSb290IiwicXVlcnlTZWxlY3RvciIsImZpbmRDbG9zZXN0SW9uQ29udGVudCIsInJtRm4iLCJlbmFibGVIaWRlQ2FyZXRPblNjcm9sbCIsInNjcm9sbEhpZGVDYXJldCIsInNob3VsZEhpZGVDYXJldCIsImlucHV0IiwiZ2V0Um9vdE5vZGUiLCJvbkJsdXIiLCJzaG93Q2FyZXQiLCJlbmFibGVTY3JvbGxBc3Npc3QiLCJrZXlib2FyZFJlc2l6ZSIsImFkZFNjcm9sbFBhZGRpbmciLCJtb2RlIiwiS2V5Ym9hcmRSZXNpemUiLCJOb25lIiwiaGFzS2V5Ym9hcmRCZWVuUHJlc2VudGVkRm9yVGV4dEZpZWxkIiwid2luIiwiaW5uZXJIZWlnaHQiLCJrZXlib2FyZFNob3ciLCJldiIsImRldGFpbCIsImZvY3VzT3V0IiwiZm9jdXNJbiIsImhhc0F0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImVuYWJsZUlucHV0Qmx1cnJpbmciLCJmb2N1c2VkIiwiZGlkU2Nyb2xsIiwib25TY3JvbGwiLCJvbkZvY3VzaW4iLCJvblRvdWNoZW5kIiwiYWN0aXZlIiwibWF0Y2hlcyIsInRhcHBlZCIsInRhcmdldCIsImJsdXIiLCJmbiIsInVucmVnaXN0ZXJJbnB1dCJdLCJtYXBwaW5ncyI6Ijs7OztBQVFBLE1BQU1BLEVBQVcsSUFBSUMsUUFDZkMsRUFBZ0JBLENBQUNDLEVBQWFDLEVBQVNDLEVBQWdCQyxFQUFpQixFQUFHQyxHQUFzQixLQUMvRlAsRUFBU1EsSUFBSUwsS0FBaUJFLElBRzlCQSxFQUNBSSxFQUFTTixFQUFhQyxFQUFTRSxFQUFnQkMsR0FHL0NHLEVBQVlQLEVBQWFDLEtBZTNCSyxFQUFXQSxDQUFDTixFQUFhQyxFQUFTRSxFQUFnQkMsR0FBc0IsS0FVMUUsTUFBTUksRUFBV1AsRUFBUVEsV0FFbkJDLEVBQVdULEVBQVFVLFdBQVUsR0FDbkNELEVBQVNFLFVBQVVDLElBQUksZ0JBQ3ZCSCxFQUFTSSxVQUFXLEVBYWhCVixJQUNBTSxFQUFTSyxVQUFXLEdBRXhCUCxFQUFTUSxZQUFZTixHQUNyQmIsRUFBU29CLElBQUlqQixFQUFhVSxHQUMxQixNQUNNUSxFQUFpQixRQURYbEIsRUFBWW1CLGNBQ1RDLElBQWdCLE1BQU8sS0FDdENwQixFQUFZcUIsTUFBTUMsY0FBZ0IsT0FDbENyQixFQUFRb0IsTUFBTUUsVUFBWSxlQUFlTCxPQUFRZixtQkFFL0NJLEVBQWNBLENBQUNQLEVBQWFDLEtBQzlCLE1BQU11QixFQUFRM0IsRUFBUzRCLElBQUl6QixHQUN2QndCLElBQ0EzQixFQUFTNkIsT0FBTzFCLEdBQ2hCd0IsRUFBTUcsVUFFVjNCLEVBQVlxQixNQUFNQyxjQUFnQixHQUNsQ3JCLEVBQVFvQixNQUFNRSxVQUFZLElBaUN4QkssRUFBZ0IsZ0RBeURoQkMsRUFBaUJBLENBQUNDLEVBQVdDLEVBQWFDLEVBQWdCQyxLQUU1RCxNQUFNQyxFQUFXSixFQUFVSyxJQUNyQkMsRUFBY04sRUFBVU8sT0FFeEJD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
